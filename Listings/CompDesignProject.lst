C51 COMPILER V9.56.0.0   COMPDESIGNPROJECT                                                 03/14/2017 17:58:51 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE COMPDESIGNPROJECT
OBJECT MODULE PLACED IN .\Objects\CompDesignProject.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE CompDesignProject.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\CompDesignProject.lst) TABS(2) OBJECT(.\Objects\CompDesignProject.obj)

line level    source

   1          /* Auth: Megan Bird
   2           * File: CompDesignProject.c
   3           * Course: CEEN-4330 – Microprocessor System Design – University of Nebraska-Lincoln
   4           * Lab: Project
   5           * Date: 3/14/2017
   6           * Desc: 8051 program with ROM, RAM, and I/O
   7           */
   8           
   9          #include <REGX55.H>
  10          #include <stdio.h>
  11          
  12          // P1
  13          sbit P1_0 = P1^0;
  14          sbit P1_1 = P1^1;
  15          
  16          
  17          // P3
  18          sbit P3_0 = P3^0;
  19          sbit P3_1 = P3^1;
  20          sbit P3_2 = P3^2;
  21          sbit P3_3 = P3^3;
  22          sbit P3_4 = P3^4;
  23          sbit P3_5 = P3^5;
  24          sbit P3_6 = P3^6;
  25          sbit P3_7 = P3^7;
  26          
  27          // ======================= prototypes =========================== //
  28          
  29          typedef unsigned char byte;
  30          
  31          void latchSevenSeg();
  32          void outputSevenSeg( char character );
  33          void delay( unsigned );
  34          
  35          // ======================== main ================================ //
  36          
  37          void main(void) {
  38   1        
  39   1        while (1) {
  40   2      
  41   2          outputSevenSeg('0');
  42   2          delay(2000);
  43   2          
  44   2          outputSevenSeg('1');
  45   2          delay(2000);
  46   2          
  47   2          outputSevenSeg('2');
  48   2          delay(2000);
  49   2          
  50   2          outputSevenSeg('3');
  51   2          delay(2000);
  52   2          
  53   2          outputSevenSeg('4');
  54   2          delay(2000);
C51 COMPILER V9.56.0.0   COMPDESIGNPROJECT                                                 03/14/2017 17:58:51 PAGE 2   

  55   2          
  56   2          outputSevenSeg('5');
  57   2          delay(2000);
  58   2          
  59   2          outputSevenSeg('6');
  60   2          delay(2000);
  61   2          
  62   2          outputSevenSeg('7');
  63   2          delay(2000);
  64   2          
  65   2          outputSevenSeg('8');
  66   2          delay(2000);
  67   2          
  68   2          outputSevenSeg('9');
  69   2          delay(2000);
  70   2          
  71   2          outputSevenSeg('A');
  72   2          delay(2000);
  73   2          
  74   2          outputSevenSeg('b');
  75   2          delay(2000);
  76   2          
  77   2          outputSevenSeg('C');
  78   2          delay(2000);
  79   2          
  80   2          outputSevenSeg('d');
  81   2          delay(2000);
  82   2          
  83   2          outputSevenSeg('E');
  84   2          delay(2000);
  85   2          
  86   2          outputSevenSeg('F');
  87   2          delay(2000);
  88   2          
  89   2          outputSevenSeg('-');
  90   2          delay(2000);
  91   2          
  92   2          outputSevenSeg('.');
  93   2          delay(2000);
  94   2          
  95   2          outputSevenSeg('o');
  96   2          delay(2000);
  97   2        }
  98   1        
  99   1        while(1); // Stay off the streets
 100   1        
 101   1      } // end main()
 102          
 103          // ======================= functions ============================ //
 104          
 105          void latchSevenSeg( void ) {
 106   1        
 107   1        P3_0 = 1;
 108   1        P3_0 = 0;
 109   1        
 110   1      } // end latchSevenSeg()
 111          
 112          // -------------------------------------------------------------- //
 113          
 114          void outputSevenSeg( char character ) {
 115   1        
 116   1        switch( character ) {
C51 COMPILER V9.56.0.0   COMPDESIGNPROJECT                                                 03/14/2017 17:58:51 PAGE 3   

 117   2          case '0': P1 = ~0x3F; break;
 118   2          case '1': P1 = ~0x06; break;
 119   2          case '2': P1 = ~0x5B; break;
 120   2          case '3': P1 = ~0x4F; break;
 121   2          case '4': P1 = ~0x66; break;
 122   2          case '5': P1 = ~0x6D; break;
 123   2          case '6': P1 = ~0x7D; break;
 124   2          case '7': P1 = ~0x07; break;
 125   2          case '8': P1 = ~0x7F; break;
 126   2          case '9': P1 = ~0x67; break;
 127   2          case 'A': P1 = ~0x77; break;
 128   2          case 'b': P1 = ~0x7C; break;
 129   2          case 'C': P1 = ~0x39; break;
 130   2          case 'd': P1 = ~0x5E; break;
 131   2          case 'E': P1 = ~0x79; break;
 132   2          case 'F': P1 = ~0x71; break;
 133   2          case '-': P1 = 0xBF;  break;
 134   2          case '.': P1 = 0x7F;  break;
 135   2          case 'o': P1 = 0xFF;  break;  // off
 136   2          default:  P1 = 0xAA;          // invalid
 137   2        }
 138   1        
 139   1        latchSevenSeg();
 140   1        
 141   1      } // end outputSevenSeg()
 142          
 143          // -------------------------------------------------------------- //
 144          
 145          void delay( unsigned msecs ) {
 146   1        
 147   1        unsigned i;
 148   1        unsigned char j;
 149   1        
 150   1        for(i=0;i<msecs;i++){
 151   2          for(j=0;j<100;j++);
 152   2        }
 153   1        
 154   1      } // end msDelay()


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    354    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
